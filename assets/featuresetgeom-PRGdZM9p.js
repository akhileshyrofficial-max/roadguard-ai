import{a as u,r as c}from"./enum-C-GuSG8G.js";import{n as d}from"./TimeOnly-BKNTMEoH.js";import{w as O,a as J,H as a,p as m,K as l}from"./aiServices-DJQBB7KA.js";import{u as p,l as w}from"./SpatialFilter-C53GuKiR.js";import{a as s}from"./operatorsWorkerConnection-88jslZpE.js";import"./Identifiable-BjM0PfdN.js";import"./index-CVvIVqY1.js";import"./UnknownTimeZone-C7APdNSb.js";import"./ImmutableArray-BPVd6ESQ.js";import"./shared-D7yspFob.js";import"./Field-FVkerAtx.js";import"./fieldType-ClovGbuQ.js";import"./number-CbNTZorT.js";import"./jsonUtils-DBuABSQZ.js";import"./fieldUtils-Br-fPSxS.js";import"./commonProperties-DHiB1uzW.js";import"./utils-C83x6Enz.js";import"./arcade-D7IA4pe-.js";import"./featureConversionUtils-CpHGKGMV.js";import"./aaBoundingBox-BrXqvn3i.js";import"./OptimizedFeature-DwEGrxrA.js";import"./memoryEstimations-m6Z1UQ7X.js";import"./OptimizedFeatureSet-BR8EEvDc.js";import"./createFeatureId-BiB9j2WD.js";import"./FieldsIndex-CZ9IrKuX.js";import"./timeZoneUtils-DMYcWBGI.js";import"./WhereClause-7iXLhdp7.js";import"./unitConversion-CmUP5YcX.js";import"./uuid-Cl5lrJ4c.js";import"./workers-BNUpPbJD.js";import"./Queue-DILFUEQB.js";import"./intl-ByqrfC_d.js";import"./number-CsIuR4Me.js";function o(i){return async(r,n,t)=>{if(J(t,2,2,r,n),(t=O(t))[0]===null&&t[1]===null)return!1;if(l(t[0])){if(a(t[1]))return new w({parentfeatureset:t[0],relation:i,relationGeom:t[1]});if(t[1]===null)return new p({parentfeatureset:t[0]});throw new u(r,c.InvalidParameter,n)}if(a(t[0])){if(a(t[1])){switch(i){case"esriSpatialRelEnvelopeIntersects":{const f=d(t[0]),e=d(t[1]);return f!=null&&e!=null&&s("intersects",[f.toJSON(),e.toJSON()])}case"esriSpatialRelIntersects":return s("intersects",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelContains":return s("contains",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelOverlaps":return s("overlaps",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelWithin":return s("within",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelTouches":return s("touches",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelCrosses":return s("crosses",[t[0].toJSON(),t[1].toJSON()])}throw new u(r,c.InvalidParameter,n)}if(l(t[1]))return new w({parentfeatureset:t[1],relation:i,relationGeom:t[0]});if(t[1]===null)return!1;throw new u(r,c.InvalidParameter,n)}if(t[0]===null){if(l(t[1]))return new p({parentfeatureset:t[1]});if(a(t[1])||t[1]===null)return!1}throw new u(r,c.InvalidParameter,n)}}function _(i){i.mode==="async"&&(i.functions.intersects=function(r,n){return i.standardFunctionAsync(r,n,o("esriSpatialRelIntersects"))},i.functions.envelopeintersects=function(r,n){return i.standardFunctionAsync(r,n,o("esriSpatialRelEnvelopeIntersects"))},i.signatures.push({name:"envelopeintersects",min:2,max:2}),i.functions.contains=function(r,n){return i.standardFunctionAsync(r,n,o("esriSpatialRelContains"))},i.functions.overlaps=function(r,n){return i.standardFunctionAsync(r,n,o("esriSpatialRelOverlaps"))},i.functions.within=function(r,n){return i.standardFunctionAsync(r,n,o("esriSpatialRelWithin"))},i.functions.touches=function(r,n){return i.standardFunctionAsync(r,n,o("esriSpatialRelTouches"))},i.functions.crosses=function(r,n){return i.standardFunctionAsync(r,n,o("esriSpatialRelCrosses"))},i.functions.relate=function(r,n){return i.standardFunctionAsync(r,n,async(t,f,e)=>{if(e=O(e),J(e,3,3,r,n),a(e[0])&&a(e[1]))return s("relate",[e[0].toJSON(),e[1].toJSON(),m(e[2])]);if(a(e[0])&&e[1]===null||a(e[1])&&e[0]===null)return!1;if(l(e[0])&&e[1]===null)return new p({parentfeatureset:e[0]});if(l(e[1])&&e[0]===null)return new p({parentfeatureset:e[1]});if(l(e[0])&&a(e[1]))return e[0].relate(e[1],m(e[2]));if(l(e[1])&&a(e[0]))return e[1].relate(e[0],m(e[2]));if(e[0]===null&&e[1]===null)return!1;throw new u(r,c.InvalidParameter,n)})})}export{_ as registerFunctions};
