import{cX as m,cY as d,am as g,cZ as c,Y as y,Q as f,cq as w,n as $,c as s,m as n,bn as D,ac as v,d as T}from"./Identifiable-B58w9FD1.js";import{o as u}from"./screenUtils-aQeO9QTD.js";import{i as j}from"./SimpleMarkerSymbol-B18xir4G.js";function z(e,t,r){return t.imageData?m({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):p(t.url,r)}function p(e,t){if(!y(e)){const r=H(t);if(r)return f(r,"images",e)}return w(e,t)}function b(e,t,r,i){if(d(e)){const o=g(e);if(!o)return;t.contentType=o.mediaType,t.imageData=o.data,r&&r.imageData===t.imageData&&r.url&&c(r.url,t,"url",i)}else c(e,t,"url",i)}const x={json:{read:{source:["imageData","url"],reader:z},write:{writer(e,t,r,i){b(e,t,this.source,i)}}}},k={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const i={};return t.imageData&&(i.imageData=t.imageData),t.contentType&&(i.contentType=t.contentType),t.url&&(i.url=p(t.url,r)),i}}}};function H(e){var o,h;if(!e)return null;const{origin:t,layer:r}=e;if(t!=="service"&&t!=="portal-item")return null;const i=r==null?void 0:r.type;return i==="feature"||i==="stream"?(o=r.parsedUrl)==null?void 0:o.path:i==="map-image"||i==="tile"?(h=e.url)==null?void 0:h.path:null}var l;let a=l=class extends j{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t!=null&&(i.width=u(t)),r!=null&&(i.height=u(r)),i}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new l({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",$(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};s([n({json:{write:!1}})],a.prototype,"color",void 0),s([D({esriPMS:"picture-marker"},{readOnly:!0})],a.prototype,"type",void 0),s([n(x)],a.prototype,"url",void 0),s([n(k)],a.prototype,"source",void 0),s([n({type:Number,cast:u,json:{write:!0}})],a.prototype,"height",void 0),s([v("height",["height","size"])],a.prototype,"readHeight",null),s([n({type:Number,cast:u,json:{write:!0}})],a.prototype,"width",void 0),s([n({json:{write:!1}})],a.prototype,"size",void 0),a=l=s([T("esri.symbols.PictureMarkerSymbol")],a);export{a,k as c,x as m};
