import{a as N,v as A,cm as O}from"./Identifiable-BjM0PfdN.js";import{s as S,q as M,o as P}from"./mat4-C8ai-EIY.js";import{F as p,N as r,b as l}from"./projectionUtils-D3_kHwH-.js";function R(o,u,n){const f=Math.sin(o),a=Math.cos(o),e=Math.sin(u),s=Math.cos(u),t=n;return t[0]=-f,t[4]=-e*a,t[8]=s*a,t[12]=0,t[1]=a,t[5]=-e*f,t[9]=s*f,t[13]=0,t[2]=0,t[6]=s,t[10]=e,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,t}function T(o,u,n){return R(o,u,n),S(n,n),n}function I(o,u,n,f){const a=p(o,f);if(a==null)return!1;const e=a.source.spatialReferenceId,s=a.dest.spatialReferenceId;if(e===s&&!_(s)&&(e!==r.UNKNOWN||N(o,f)))return M(n,u),!0;if(_(s)){const C=l[e][r.LON_LAT],E=l[r.LON_LAT][s];return C!=null&&E!=null&&(C(u,0,c,0),E(c,0,i,0),R(L*c[0],L*c[1],n),n[12]=i[0],n[13]=i[1],n[14]=i[2],!0)}const t=_(e);if((s===r.WEB_MERCATOR||s===r.PLATE_CARREE||s===r.WGS84||s===r.CGCS2000)&&(e===r.WGS84||t||e===r.WEB_MERCATOR||e===r.CGCS2000)){const C=l[e][r.LON_LAT],E=l[r.LON_LAT][s];return C!=null&&E!=null&&(C(u,0,c,0),E(c,0,i,0),t?T(L*c[0],L*c[1],n):P(n),n[12]=i[0],n[13]=i[1],n[14]=i[2],!0)}return!1}function _(o){return o===r.SPHERICAL_ECEF||o===r.SPHERICAL_MARS_PCPF||o===r.SPHERICAL_MOON_PCPF||o===r.WGS84_ECEF}const L=O(1),c=A(),i=A();export{I as m,R as n};
