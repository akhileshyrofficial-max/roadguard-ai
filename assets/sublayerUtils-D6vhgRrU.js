import{br as l}from"./Identifiable-BjM0PfdN.js";function g(i,o,n){return o.flatten(({sublayers:e})=>e).length!==i.length?!0:!!i.some(e=>e.originIdOf("minScale")>n||e.originIdOf("maxScale")>n||e.originIdOf("renderer")>n||e.originIdOf("labelingInfo")>n||e.originIdOf("opacity")>n||e.originIdOf("labelsVisible")>n||e.originIdOf("source")>n)||!c(i,o)}function m(i,o,n){return!!i.some(r=>{var a,f,s;const e=r.source,t=!e||e.type==="map-layer"&&e.mapLayerId===r.id&&(e.gdbVersion==null||e.gdbVersion===n);r.commitProperty("renderer"),r.commitProperty("labelingInfo"),r.commitProperty("opacity"),r.commitProperty("labelsVisible"),r.commitProperty("orderBy");const u=((s=(f=(a=r.layer)==null?void 0:a.capabilities)==null?void 0:f.exportMap)==null?void 0:s.supportsSublayerOrderBy)??!1;return!t||r.originIdOf("renderer")>l.SERVICE||r.originIdOf("labelingInfo")>l.SERVICE||r.originIdOf("opacity")>l.SERVICE||r.originIdOf("labelsVisible")>l.SERVICE||u&&r.originIdOf("orderBy")>l.SERVICE})||!c(i,o)}function c(i,o){if(!(i!=null&&i.length)||o==null)return!0;const n=o.slice().reverse().flatten(({sublayers:t})=>t&&t.toArray().reverse()).map(t=>t.id).toArray();if(i.length>n.length)return!1;let r=0;const e=n.length;for(const{id:t}of i){for(;r<e&&n[r]!==t;)r++;if(r>=e)return!1}return!0}function y(i){return!!i&&i.some(o=>{var n;return o.minScale!=null||((n=o.layerDefinition)==null?void 0:n.minScale)!=null})}export{g as e,m as i,y as o};
