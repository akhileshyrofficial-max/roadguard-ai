const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/geometryEngineBase-DXq9NeSb.js","assets/_commonjsHelpers-DCkdB7M8.js","assets/hydrated-DXPL5Iyu.js","assets/Identifiable-B58w9FD1.js","assets/index-VFfT8Aji.js"])))=>i.map(i=>d[i]);
import{_ as Oe}from"./index-VFfT8Aji.js";import{f7 as b,f8 as ae,av as p,a as x,aP as Ve,f9 as Re,bX as Se,a$ as Ce,d_ as Xe,bP as Ye,fa as Je,bS as Qe,bT as en,dh as nn,di as tn,ah as an,cl as sn,cm as ln,ev as un,v as Te,fb as G,bm as de,D as Ne,fc as rn,cP as on,bY as L,b_ as fn,aw as cn,c0 as _n,ai as Rn,al as _e,aj as ye,a0 as Sn,a3 as Cn,X as En,a1 as Pn,a2 as hn,s as pn,b$ as An,dg as Le}from"./Identifiable-B58w9FD1.js";const lt=Math.PI/180,it=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,N=p.radius,P=p.eccentricitySquared,Mn={a1:N*P,a2:N*P*N*P,a3:N*P*P/2,a4:N*P*N*P*2.5,a5:N*P+N*P*P/2,a6:1-P},ut={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:p.radius,f:p.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:ae.radius,f:ae.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:b.radius,f:b.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:b.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var s;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",n[n.WGS84=2]="WGS84",n[n.WEB_MERCATOR=3]="WEB_MERCATOR",n[n.WGS84_ECEF=4]="WGS84_ECEF",n[n.CGCS2000=5]="CGCS2000",n[n.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",n[n.GCSMARS2000=7]="GCSMARS2000",n[n.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",n[n.GCSMOON2000=9]="GCSMOON2000",n[n.LON_LAT=10]="LON_LAT",n[n.PLATE_CARREE=11]="PLATE_CARREE"})(s||(s={}));const On={[s.WGS84]:{[s.CGCS2000]:_,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:Z,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:w,[s.PLATE_CARREE]:T,[s.WGS84]:_,[s.WGS84_ECEF]:k},[s.CGCS2000]:{[s.CGCS2000]:_,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:Z,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:w,[s.PLATE_CARREE]:T,[s.WGS84]:_,[s.WGS84_ECEF]:k},[s.GCSMARS2000]:{[s.CGCS2000]:null,[s.GCSMARS2000]:_,[s.GCSMOON2000]:null,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:me,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.GCSMOON2000]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:_,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:Ie,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.WEB_MERCATOR]:{[s.CGCS2000]:q,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:q,[s.SPHERICAL_ECEF]:Nn,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:_,[s.PLATE_CARREE]:In,[s.WGS84]:q,[s.WGS84_ECEF]:Ln},[s.WGS84_ECEF]:{[s.CGCS2000]:j,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:j,[s.SPHERICAL_ECEF]:Hn,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:kn,[s.PLATE_CARREE]:mn,[s.WGS84]:j,[s.WGS84_ECEF]:_},[s.SPHERICAL_ECEF]:{[s.CGCS2000]:H,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:H,[s.SPHERICAL_ECEF]:_,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:wn,[s.PLATE_CARREE]:Wn,[s.WGS84]:H,[s.WGS84_ECEF]:Tn},[s.SPHERICAL_MARS_PCPF]:{[s.CGCS2000]:null,[s.GCSMARS2000]:ge,[s.GCSMOON2000]:null,[s.LON_LAT]:ge,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:_,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.SPHERICAL_MOON_PCPF]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:We,[s.LON_LAT]:We,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:_,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.UNKNOWN]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:null,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:_,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.LON_LAT]:{[s.CGCS2000]:_,[s.GCSMARS2000]:_,[s.GCSMOON2000]:_,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:Z,[s.SPHERICAL_MARS_PCPF]:me,[s.SPHERICAL_MOON_PCPF]:Ie,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:w,[s.PLATE_CARREE]:T,[s.WGS84]:_,[s.WGS84_ECEF]:k},[s.PLATE_CARREE]:{[s.CGCS2000]:y,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:y,[s.SPHERICAL_ECEF]:gn,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:$n,[s.PLATE_CARREE]:_,[s.WGS84]:y,[s.WGS84_ECEF]:Fn}};function He(n,t){var e;return(e=dn(n,t))==null?void 0:e.projector}function dn(n,t){if(n==null||t==null)return null;if(O.source.spatialReference===n&&O.dest.spatialReference===t)return O;const e=Ge(n,O.source),a=Ge(t,O.dest);return e===s.UNKNOWN&&a===s.UNKNOWN?x(n,t)?O.projector=_:O.projector=null:O.projector=On[e][a],O}function Ge(n,t){return n?t.spatialReference===n?t.spatialReferenceId:(t.spatialReference=n,"metersPerUnit"in t&&(t.metersPerUnit=Ve(n,1)),Re(n)?t.spatialReferenceId=s.SPHERICAL_ECEF:Se(n)?t.spatialReferenceId=s.WGS84:Ce(n)?t.spatialReferenceId=s.WEB_MERCATOR:Xe(n)?t.spatialReferenceId=s.PLATE_CARREE:n.wkt===Ye.wkt?t.spatialReferenceId=s.WGS84_ECEF:n.wkid===Je.CGCS2000?t.spatialReferenceId=s.CGCS2000:n.wkt===Qe.wkt?t.spatialReferenceId=s.SPHERICAL_MARS_PCPF:n.wkt===en.wkt?t.spatialReferenceId=s.SPHERICAL_MOON_PCPF:nn(n)?t.spatialReferenceId=s.GCSMARS2000:tn(n)?t.spatialReferenceId=s.GCSMOON2000:t.spatialReferenceId=s.UNKNOWN):s.UNKNOWN}function _(n,t,e,a){n!==e&&(e[a++]=n[t++],e[a++]=n[t++],e[a]=n[t])}function q(n,t,e,a){e[a]=K*(n[t]/m),e[a+1]=K*(ke-2*Math.atan(Math.exp(-n[t+1]/m))),e[a+2]=n[t+2]}function Nn(n,t,e,a){const l=n[t]/m,i=ke-2*Math.atan(Math.exp(-n[t+1]/m)),r=m+n[t+2],u=Math.cos(i)*r;e[a]=Math.cos(l)*u,e[a+1]=Math.sin(l)*u,e[a+2]=Math.sin(i)*r}function Ln(n,t,e,a){q(n,t,e,a),k(e,a,e,a)}function Gn(n,t,e,a,l){const i=.4999999*Math.PI,r=an(U*n[t+1],-i,i),u=Math.sin(r);e[a++]=U*n[t]*l.radius,e[a++]=l.halfSemiMajorAxis*Math.log((1+u)/(1-u)),e[a]=n[t+2]}function w(n,t,e,a){Gn(n,t,e,a,p)}function T(n,t,e,a){e[a]=n[t]*$e,e[a+1]=n[t+1]*$e,e[a+2]=n[t+2]}function y(n,t,e,a){e[a]=n[t]*Fe,e[a+1]=n[t+1]*Fe,e[a+2]=n[t+2]}function In(n,t,e,a){q(n,t,e,a),T(e,a,e,a)}function mn(n,t,e,a){j(n,t,e,a),T(e,a,e,a)}function Wn(n,t,e,a){H(n,t,e,a),T(e,a,e,a)}function gn(n,t,e,a){y(n,t,e,a),Z(e,a,e,a)}function $n(n,t,e,a){y(n,t,e,a),w(e,a,e,a)}function Fn(n,t,e,a){y(n,t,e,a),k(e,a,e,a)}function Pe(n,t,e,a,l){const i=l+n[t+2],r=U*n[t+1],u=U*n[t],o=Math.cos(r)*i;e[a]=Math.cos(u)*o,e[a+1]=Math.sin(u)*o,e[a+2]=Math.sin(r)*i}function Ie(n,t,e,a){Pe(n,t,e,a,ae.radius)}function me(n,t,e,a){Pe(n,t,e,a,b.radius)}function Z(n,t,e,a){Pe(n,t,e,a,p.radius)}function he(n,t,e,a,l){const i=n[t],r=n[t+1],u=n[t+2],o=Math.sqrt(i*i+r*r+u*u),c=un(u/(o===0?1:o)),f=Math.atan2(r,i);e[a++]=K*f,e[a++]=K*c,e[a]=o-l}function We(n,t,e,a){he(n,t,e,a,ae.radius)}function ge(n,t,e,a){he(n,t,e,a,b.radius)}function H(n,t,e,a){he(n,t,e,a,p.radius)}function wn(n,t,e,a){H(n,t,e,a),w(e,a,e,a)}function Tn(n,t,e,a){H(n,t,e,a),k(e,a,e,a)}function yn(n,t,e,a,l){const i=U*n[t],r=U*n[t+1],u=n[t+2],o=Math.sin(r),c=Math.cos(r),f=l.radius/Math.sqrt(1-l.eccentricitySquared*o*o);e[a++]=(f+u)*c*Math.cos(i),e[a++]=(f+u)*c*Math.sin(i),e[a++]=(f*(1-l.eccentricitySquared)+u)*o}function k(n,t,e,a){yn(n,t,e,a,p)}function j(n,t,e,a){const l=Mn,i=n[t],r=n[t+1],u=n[t+2];let o,c,f,S,R,A,M,E,d,z,ie,ue,re,g,$,oe,fe,ce,F,Ae,Me;o=Math.abs(u),c=i*i+r*r,f=Math.sqrt(c),S=c+u*u,R=Math.sqrt(S),Ae=Math.atan2(r,i),A=u*u/S,M=c/S,g=l.a2/R,$=l.a3-l.a4/R,M>.3?(E=o/R*(1+M*(l.a1+g+A*$)/R),F=Math.asin(E),z=E*E,d=Math.sqrt(1-z)):(d=f/R*(1-A*(l.a5-g-M*$)/R),F=Math.acos(d),z=1-d*d,E=Math.sqrt(z)),ie=1-p.eccentricitySquared*z,ue=p.radius/Math.sqrt(ie),re=l.a6*ue,g=f-ue*d,$=o-re*E,fe=d*g+E*$,oe=d*$-E*g,ce=oe/(re/ie+fe),F+=ce,Me=fe+oe*ce/2,u<0&&(F=-F),e[a++]=K*Ae,e[a++]=K*F,e[a]=Me}function Hn(n,t,e,a){j(n,t,e,a),Z(e,a,e,a)}function kn(n,t,e,a){j(n,t,e,a),w(e,a,e,a)}const O={source:{spatialReference:null,spatialReferenceId:s.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:s.UNKNOWN,metersPerUnit:1},projector:_},U=ln(1),K=sn(1),ke=.5*Math.PI,m=p.radius,$e=m*Math.PI/180,Fe=180/(m*Math.PI);function Y(n,t,e,a,l,i,r=Math.floor(n.length/3)){const u=He(t,l);if(u==null)return!1;if(u===_){if(n===a&&e===i)return!0;const c=e+3*r;for(let f=e,S=i;f<c;f++,S++)a[S]=n[f];return!0}const o=e+3*r;for(let c=e,f=i;c<o;c+=3,f+=3)u(n,c,a,f);return!0}const rt=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:Y},Symbol.toStringTag,{value:"Module"}));function we(n,t,e,a,l,i){return Q[0]=n,Q[1]=t,Q[2]=e,Y(Q,a,0,l,i,0)}const Q=Te();let ee=0;class v{static fromGE(t){const e=new v;return e._wkt=t.wkt,e._wkid=t.wkid,e._isInverse=t.isInverse,e}constructor(t){this.uid=ee++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=ee++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=ee++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=ee++}getInverse(){const t=new v;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}let se=class B{static cacheKey(t,e){var a,l,i,r,u,o;return[((a=t.wkid)==null?void 0:a.toString())??"-1",((l=t.wkt)==null?void 0:l.toString())??"",((i=t.wkt2)==null?void 0:i.toString())??"",((r=e.wkid)==null?void 0:r.toString())??"-1",((u=e.wkt)==null?void 0:u.toString())??"",((o=e.wkt2)==null?void 0:o.toString())??""].join()}static fromGE(t){const e=new B;let a="";for(const l of t.steps){const i=v.fromGE(l);e.steps.push(i),a+=i.uid.toString()+","}return e._cachedProjection={},e._gtlistentry=null,e._chain=a,e}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t==null?void 0:t.steps)for(const e of t.steps)e instanceof v?this.steps.push(e):this.steps.push(new v({wkid:e.wkid,wkt:e.wkt,isInverse:e.isInverse}))}getInverse(){const t=new B;t.steps=[];for(let e=this.steps.length-1;e>=0;e--){const a=this.steps[e];t.steps.push(a.getInverse())}return t}getGTListEntry(){let t="";for(const e of this.steps)t+=e.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,e,a){this._cachedProjection[B.cacheKey(t,e)]=a}getCachedGeTransformation(t,e){let a="";for(const i of this.steps)a+=i.uid.toString()+",";a!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=a);const l=this._cachedProjection[B.cacheKey(t,e)];return l===void 0?null:l}};function jn(n,t,e){if(t==null||e==null||e.vcsWkid||x(t,e)||G(t)||G(e))return null;const a=de(t)/de(e);if(a===1)return null;switch(n){case"point":case"esriGeometryPoint":return l=>vn(l,a);case"polyline":case"esriGeometryPolyline":return l=>Un(l,a);case"polygon":case"esriGeometryPolygon":return l=>xn(l,a);case"multipoint":case"esriGeometryMultipoint":return l=>Kn(l,a);case"extent":case"esriGeometryEnvelope":return l=>zn(l,a);default:return null}}function vn(n,t){(n==null?void 0:n.z)!=null&&(n.z*=t)}function xn(n,t){if(n)for(const e of n.rings)for(const a of e)a.length>2&&(a[2]*=t)}function Un(n,t){if(n)for(const e of n.paths)for(const a of e)a.length>2&&(a[2]*=t)}function Kn(n,t){if(n)for(const e of n.points)e.length>2&&(e[2]*=t)}function zn(n,t){n&&n.zmin!=null&&n.zmax!=null&&(n.zmin*=t,n.zmax*=t)}let h=null,I=null,D=null,ne={};const pe=new Rn;function J(){return!!h&&An()}function je(){return!!J()||(ye(pe),V(),!1)}function Bn(n,t){return!n||!t||W(n,t)||je()}function bn(n,t){return!W(n,t)&&!J()}function V(n){return D==null&&(D=Promise.all([fn(),Oe(()=>import("./geometryEngineBase-DXq9NeSb.js"),__vite__mapDeps([0,1])).then(t=>t.g),Oe(()=>import("./hydrated-DXPL5Iyu.js"),__vite__mapDeps([2,3,4]))])),D.then(([,t,{hydratedAdapter:e}])=>{cn(n),I=e,h=t.default,h._enableProjection(_n),pe.notify()})}function ve(n,t,e=null,a=null){return Array.isArray(n)?n.length===0?[]:(rn(n),Ee(I,n,n[0].spatialReference,t,e,a)):(on(n),Ee(I,[n],n.spatialReference,t,e,a)[0])}function Ee(n,t,e,a,l=null,i=null){if(e==null||a==null)return t;if(W(e,a,l))return t.map(r=>te(r,e,a));if(l==null&&Re(e))return t.map(r=>te(r,e,_e.WGS84)).map(r=>X(r,a));if(l==null&&Re(a))return t.map(r=>X(r,_e.WGS84)).map(r=>te(r,_e.WGS84,a));if(l==null){const r=se.cacheKey(e,a);ne[r]!==void 0?l=ne[r]:((l=Ue(e,a,void 0))==null&&(l=new se),ne[r]=l)}if(h==null||n==null)throw new le;return i!=null?h._project(n,t,e,a,l,i):h._project(n,t,e,a,l)}function qn(n,t){const e=xe([n],t);return e.pending!=null?{pending:e.pending,geometry:null}:e.geometries!=null?{pending:null,geometry:e.geometries[0]}:{pending:null,geometry:null}}function xe(n,t){if(!J()){for(const e of n)if(e!=null&&!x(e.spatialReference,t)&&L(e.spatialReference)&&L(t)&&!W(e.spatialReference,t))return ye(pe),{pending:V(),geometries:null}}return{pending:null,geometries:n.map(e=>e==null?null:x(e.spatialReference,t)?e:L(e.spatialReference)&&L(t)?X(e,t):null)}}function Ue(n,t,e=null){if(n==null||t==null)return null;if(h==null||I==null)throw new le;const a=h._getTransformation(I,n,t,e,e==null?void 0:e.spatialReference);return a!==null?se.fromGE(a):null}function Zn(n,t,e=null){if(h==null||I==null)throw new le;const a=h._getTransformationBySuitability(I,n,t,e,e==null?void 0:e.spatialReference);if(a!==null){const l=[];for(const i of a)l.push(se.fromGE(i));return l}return[]}class le extends pn{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function Dn(){h=null,I=null,D=null,ne={}}const Vn={get loadPromise(){return D}};function X(n,t){try{const e=ve(n,t);if(e==null)return null;"xmin"in n&&"xmin"in e&&(e.zmin=n.zmin,e.zmax=n.zmax);const a=jn(e.type,n.spatialReference,t);return a!=null&&a(e),e}catch(e){if(!(e instanceof le))throw e;return null}}async function Xn(n,t,e){const a=n.spatialReference;return a!=null&&t!=null&&await Ke(a,t,null,e),X(n,t)}function W(n,t,e){return!e&&(!!x(n,t)||L(n)&&L(t)&&!!He(n,t))}function Yn(n,t){if(x(n,t))return!0;if(!L(n)||!L(t))return!1;const e=Se(n)||Ce(n)||Le(n),a=Se(t)||Ce(t)||Le(t);return e&&a}async function Ke(n,t,e,a){if(J())return Ne(a);if(Array.isArray(n)){for(const{source:l,dest:i,geographicTransformation:r}of n)if(l&&i&&!W(l,i,r))return V(a)}else if(n&&t&&!W(n,t,e))return V(a);return Ne(a)}function te(n,t,e){return n?"x"in n?ze(n,t,new Sn,e,0):"xmin"in n?Ze(n,t,new Cn,e,0):"rings"in n?qe(n,t,new En,e,0):"paths"in n?be(n,t,new Pn,e,0):"points"in n?Be(n,t,new hn,e,0):null:null}function Jn(n,t,e=t.spatialReference,a=0){return e!=null&&n.spatialReference!=null&&ze(n,n.spatialReference,t,e,a)!=null}function ze(n,t,e,a,l){C[0]=n.x,C[1]=n.y;const i=n.z;return C[2]=i!==void 0?i:l,Y(C,t,0,C,a,0)?(e.x=C[0],e.y=C[1],e.spatialReference=a,i!==void 0||G(a)?(e.z=C[2],e.hasZ=!0):(e.z=void 0,e.hasZ=!1),n.m===void 0?(e.m=void 0,e.hasM=!1):(e.m=n.m,e.hasM=!0),e):null}function Qn(n,t,e=t.spatialReference,a=0){return n.spatialReference!=null&&e!=null&&Be(n,n.spatialReference,t,e,a)!=null}function Be(n,t,e,a,l){const{points:i,hasZ:r,hasM:u}=n,o=[],c=i.length,f=[];for(const R of i)f.push(R[0],R[1],r?R[2]:l);if(!Y(f,t,0,f,a,0,c))return null;const S=r||G(a);for(let R=0;R<c;++R){const A=3*R,M=f[A],E=f[A+1];S&&u?o.push([M,E,f[A+2],i[R][3]]):S?o.push([M,E,f[A+2]]):u?o.push([M,E,i[R][2]]):o.push([M,E])}return e.points=o,e.spatialReference=a,e.hasZ=r,e.hasM=u,e}function et(n,t,e=t.spatialReference,a=0){return n.spatialReference!=null&&e!=null&&be(n,n.spatialReference,t,e,a)!=null}function be(n,t,e,a,l){const{paths:i,hasZ:r,hasM:u}=n,o=[];if(!De(i,r??!1,u??!1,t,o,a,l))return null;const c=r||G(a);return e.paths=o,e.spatialReference=a,e.hasZ=c,e.hasM=u,e}function nt(n,t,e=t.spatialReference,a=0){return n.spatialReference!=null&&e!=null&&qe(n,n.spatialReference,t,e,a)!=null}function qe(n,t,e,a,l){const{rings:i,hasZ:r,hasM:u}=n,o=[];if(!De(i,r??!1,u??!1,t,o,a,l))return null;const c=r||G(a);return e.rings=o,e.spatialReference=a,e.hasZ=c,e.hasM=u,e}function tt(n,t,e=t.spatialReference,a=0){return n.spatialReference!=null&&e!=null&&Ze(n,n.spatialReference,t,e,a)!=null}function Ze(n,t,e,a,l){const{xmin:i,ymin:r,xmax:u,ymax:o,hasZ:c,hasM:f}=n,S=c?n.zmin:l;if(!we(i,r,S,t,C,a))return null;const R=c||G(a);e.xmin=C[0],e.ymin=C[1],R&&(e.zmin=C[2]);const A=c?n.zmax:l;return we(u,o,A,t,C,a)?(e.xmax=C[0],e.ymax=C[1],R&&(e.zmax=C[2]),f&&(e.mmin=n.mmin,e.mmax=n.mmax),e.spatialReference=a,e):null}function De(n,t,e,a,l,i,r=0){const u=new Array;for(const f of n)for(const S of f)u.push(S[0],S[1],t?S[2]:r);if(!Y(u,a,0,u,i,0))return!1;let o=0;l.length=0;const c=t||G(i);for(const f of n){const S=new Array;for(const R of f)c&&e?S.push([u[o++],u[o++],u[o++],R[3]]):c?S.push([u[o++],u[o++],u[o++]]):e?(S.push([u[o++],u[o++],R[2]]),o++):(S.push([u[o++],u[o++]]),o++);l.push(S)}return!0}const C=Te(),ot=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:W,getTransformation:Ue,getTransformations:Zn,initializeProjection:Ke,isEqualBaseGCS:Yn,isLoaded:J,isLoadedOrLoad:je,isLoadedOrLoadFor:Bn,load:V,project:ve,projectExtent:tt,projectMany:Ee,projectMultipoint:Qn,projectOrLoad:qn,projectOrLoadMany:xe,projectPoint:Jn,projectPolygon:nt,projectPolyline:et,projectWithZConversion:Xn,projectWithoutEngine:te,requiresLoad:bn,test:Vn,tryProjectWithZConversion:X,unload:Dn},Symbol.toStringTag,{value:"Module"}));export{te as $,dn as F,He as G,X as I,Xn as J,V as K,W as L,s as N,ve as O,Ke as Q,Bn as U,Ee as V,qn as X,xe as Y,Y as a,On as b,Yn as c,ut as d,we as e,ot as f,Gn as h,lt as i,J as k,Jn as n,jn as o,rt as p,Ue as q,nt as s,it as t,he as v};
