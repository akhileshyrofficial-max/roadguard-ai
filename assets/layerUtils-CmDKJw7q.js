import{H as c,o}from"./Identifiable-BjM0PfdN.js";function d(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function b(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="graphics"}function m(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="map-image"}function h(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="knowledge-graph"&&"layers"in e}function j(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="knowledge-graph-sublayer"}function w(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function v(e){return(e==null?void 0:e.type)==="subtype-sublayer"}const S={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function E(e){const t=e==null?void 0:e.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function L(e){return e==="integrated-mesh"||e==="integrated-mesh-3dtiles"}function C(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function k(e){var n;const t=e==null?void 0:e.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&((n=e==null?void 0:e.source)==null?void 0:n.type)==="feature-layer"}async function P(e,t){var i;const n=(i=o)==null?void 0:i.findServerInfo(e);if((n==null?void 0:n.currentVersion)!=null)return n.owningSystemUrl||null;const u=e.toLowerCase().indexOf("/rest/services");if(u===-1)return null;const s=`${e.slice(0,u)}/rest/info`,a=t!=null?t.signal:null,{data:r}=await c(s,{query:{f:"json"},responseType:"json",signal:a});return(r==null?void 0:r.owningSystemUrl)||null}function l(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function x(e){return l(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function f(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function B(e){return!!f(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}function y(e,t){return null}function H(e){return null}function p(e){return!e||e.type==="Feature Service"&&!e.sourceUrl}function I(e,t){!t||!p(e)||y(e.url)}export{H as A,P as B,x as D,p as G,I as H,B as N,l as P,h as c,v as g,S as h,E as j,C as k,j as l,b as o,w as p,m as s,d as u,L as w,k as x,y as z};
