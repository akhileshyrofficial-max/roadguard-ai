import{bY as g,aP as y,al as h,a0 as m,ay as M,a1 as G}from"./Identifiable-BjM0PfdN.js";import{y as W,R as w}from"./geodesicUtils-Cr-plA6M.js";import{M as S}from"./normalizeUtils-DfEBCyY7.js";const d=50,Y=5;function j(e,a){return Math.log(e)/Math.log(a)}function Z(e,a,o){const t=e===1?10:e;return t**(o?Math.round(j(d/a,t)):0)}function q(e){const{isGeographic:a,isWebMercator:o}=e;return!a&&!o}function _(e,a,o){const t=typeof e=="number"?null:e,r=o??(t==null?void 0:t.spatialReference);if(r==null||!g(r)||q(r))return y(r);let s=(t==null?void 0:t.x)??e,c=(t==null?void 0:t.y)??a;const f=1/Math.sqrt(2);let i=s+f,l=c+f;const{isWebMercator:x,isGeographic:$}=r;let p=$&&!W(r)?h.WGS84:r;if(x){let n=new m({x:s,y:c,spatialReference:r});M(n,!0,n),s=n.x,c=n.y,n=new m({x:i,y:l,spatialReference:r}),M(n,!0,n),i=n.x,l=n.y,p=h.WGS84}const R=new G({paths:[[[s,c],[i,l]]],spatialReference:p}),b=S(R,10);let u;try{[u]=w([b],"meters")}catch{return y(r)}return u}export{Z as l,Y as t,_ as u};
